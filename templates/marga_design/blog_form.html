{% extends 'index.html' %}
{% load static %}

{% block carousel %}

{% endblock %}

{% block content %}
    <div class="container mt-5 mb-5">
        <h2>–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞</h2>
        <form method="post">
            <div>
                <button type="submit" class="btn btn-success" onclick="saveContent()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </div>
            {% csrf_token %}
            <!-- –û–±—ã—á–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ -->
            <label for="id_title">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞:</label>
            {{ form.title }}

            <div>
                <!-- –†–µ–¥–∞–∫—Ç–æ—Ä Quill.js –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è -->
                <label for="editor">–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–∞:</label>
                <div id="editor">{{ form.description.value|safe }}</div>

                <!-- –°–∫—Ä—ã—Ç–æ–µ –ø–æ–ª–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Quill.js -->
                <input type="hidden" name="description" id="hiddenDescription">
            </div>

            <button type="submit" class="btn btn-success" onclick="saveContent()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        </form>
    </div>
    <!-- –°—Ç–∏–ª–∏ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <style>
        .ql-editor {
            font-family: Arial, sans-serif;
            font-size: 16px;
            line-height: 1.6;
        }

        .ql-editor img {
            max-width: 600px !important;
            height: auto !important;
            display: block;
            margin-left: auto;
            margin-right: auto;
            object-fit: contain;
        }

        .ql-video {
            width: 800px;
            height: 500px;
            margin-left: auto;
            margin-right: auto;
            object-fit: contain;
        }

    </style>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Quill.js -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>

    <script>
        var quill = new Quill('#editor', {
            theme: 'snow',
            modules: {
                toolbar: [
                    [{'header': [1, 2, false]}],
                    ['italic', 'underline', 'strike'],  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
                    [{'list': 'ordered'}, {'list': 'bullet'}],
                    [{'script': 'sub'}, {'script': 'super'}],
                    [{'indent': '-1'}, {'indent': '+1'}],
                    [{'direction': 'rtl'}],
                    [{'size': ['small', false, 'large', 'huge']}],
                    [{'color': []}, {'background': []}],
                    [{'align': []}],
                    ['link', 'image', 'video'],  // üîπ –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å—Å—ã–ª–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤
                    ['clean']  // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                ]
            }
        });

        function saveContent() {
            document.getElementById('hiddenDescription').value = quill.root.innerHTML;
        }
    </script>

{% endblock %}

